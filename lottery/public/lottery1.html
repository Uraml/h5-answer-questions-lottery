<!-- <!DOCTYPE html>
<html>
<head> 
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no,telephone=no">
  <title>九月不撸</title>
  <script type="text/javascript" src="https://pages.baozoumanhua.com/unify/assets/plugins/jquery/jquery.min.js"></script>
</head>  
<body style="text-align: center;float: left;">
<canvas id="canvas" width="300" height="300">抱歉！浏览器不支持。</canvas>
<button type="" id="btn">抽奖</button>
</body>
</html>
<script type="text/javascript">
  var info=["外教口语课免费试听卡","二等奖","三等奖","四等奖","五等奖","六等奖","七等奖","八等奖","九等奖","十等奖"];
var color=[];
var step = 2*Math.PI/10;
var outerR = 150; //轮盘的大小
var interR = 50;//内存空白圆的大小
var beginAngle=50;//旋转起来时默认开始旋转的度数，度数愈大旋转的初始速度愈大
var radio = 0.95;//旋转速度衰减系数，影响旋转时间
var t = null;
window.onload=function() {
      for ( var i = 0; i < 10; i++) {
             color.push(getColor());
      }
      var canvas = document.getElementById("canvas");
      var context = canvas.getContext("2d");
      context.translate(150,150);
      Arrow(context);
      init(context);
      document.getElementById("btn").onclick=function(){
             if(t){
                    return false;
             }
             var step = beginAngle +Math.random()*10;
             var angle = 0;
             t = setInterval(function(){
                    step *=radio;
                    if(step <= 0.1){
                           clearInterval(t);
                           t =null;
                           var pos = Math.ceil(angle / 36);
                           var res = info[10-pos];
                           context.save();
                           context.beginPath();
                           context.font="23px 微软雅黑";
                           context.fillStyle="#f00";
                           context.textAlign="center";
                           context.textBaseline="middle";
                           context.fillText(res,0,0);
                           context.restore();
                    }else{
                           context.clearRect(-250,-250,500,500);
                           angle+=step;
                           if(angle > 360){
                                  angle -=360;
                           }
                           context.save();
                           context.beginPath();
                           context.rotate(angle * Math.PI/180);
                           init(context);
                           context.restore();
                           Arrow(context);
                    }
             },60);
      };
};
 
function Arrow(context){
      context.save();
      context.beginPath();
      context.lineWidth = 5;
      context.moveTo(70,0);
      context.lineTo(80,15);
      context.lineTo(80,5);
      context.lineTo(150,5);
      context.lineTo(150,-5);
      context.lineTo(80,-5);
      context.lineTo(80,-15);
      context.closePath();
      context.fill();
      context.restore();
}
function init(context){
      for ( var i = 0; i < 10; i++) {
             context.save();
             context.beginPath();
             context.moveTo(0,0);
             context.fillStyle=color[i];
             context.arc(0,0,outerR,i*step,(i+1)*step);
             context.fill();
             context.restore();
      }
      
      context.save();
      context.beginPath();
      context.fillStyle="#fff";
      context.arc(0,0,interR,0,2*Math.PI);
      context.fill();
      context.restore();
      
      for ( var i = 0; i < 10; i++) {
             context.save();
             context.beginPath();
             context.fillStyle="#000";
             context.font="15px 微软雅黑";
             context.textAlign="center";
             context.textBaseline="middle";
             context.rotate(i*step+step/2);
             context.fillText(info[i],(outerR + interR)/2,0);
             context.restore();
      }
}
function getColor(){
      var random = function(){
             return Math.floor(Math.random()*255);
      }
      return "rgb("+random()+","+random()+","+random()+")";
}
</script> -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="screen-orientation" content="portrait">
	<meta name="x5-orientation" content="portrait">
	<title>抽奖</title>
	<script type="text/javascript" src="https://pages.baozoumanhua.com/unify/assets/plugins/jquery/jquery.min.js"></script>
	<style>
		html,body {
			margin:0;
			padding:0;
			overflow: hidden;
		}
		.content {
			width: 100%;
			height: 100%;
			top:0;
			z-index: -1; 
			position: absolute;
		}
		#bg{
			top: 25%;
			width: 700px;
			height: 700px;
			text-align: center;
			margin: 0 auto;
			position: relative;
		}
		img[src^="https://rednose.b0.upaiyun.com/uploads/image/201709/55beef05f079.png"]{
			position: absolute;
			z-index: 5;
			top: 10px;
			left: 0px;
			transition: all 4s;
		}
		img[src^="https://rednose.b0.upaiyun.com/uploads/image/201709/672becd97582.png"]{
			position: absolute;
			z-index: 10;
			top: 304px;
			left: 297px;
		} 
		img[src^="https://rednose.b0.upaiyun.com/uploads/image/201709/62206151d2a6.png"]{
			position: absolute;
			z-index: 10;
			top: 234px;
			left: 333px;
		} 
		.content .next {
			display: block;
			outline: none;
			border:0;
			left: 15%;
			right:15%;
			position:absolute;
			bottom: 5%;
		}
		.content .result {
			display: block;
			outline: none;
			border:0;
			left: 15%;
			right:15%;
			position:absolute;
			bottom: 17%;
			font-size: 42px;margin-top: 10px;margin-bottom: 10px;
		}
		a,img,button,input,textarea，p,table,form{-webkit-tap-highlight-color:rgba(255,255,255,0);}
	</style>
</head>
<body>

	<div class="content">
		<img alt="注册" src="https://rednose.b0.upaiyun.com/uploads/image/201709/cc89461aa892.png" style="display: block;
		outline: none;
		border:0;
		height: 100%;
		width: 100%;
		position:absolute;">
		<div id="bg">
			<img src="https://rednose.b0.upaiyun.com/uploads/image/201709/62206151d2a6.png" alt="pointer">
			<img src="https://rednose.b0.upaiyun.com/uploads/image/201709/672becd97582.png" alt="person">
			<img src="https://rednose.b0.upaiyun.com/uploads/image/201709/55beef05f079.png" alt="turntable">
		</div>
		<span class="result" id="result"></span>
		<div class="next">
			<p style="font-size: 48px;float: left;color: #49b55c;">点击</p>
			<img style="float: left;width: 80px;height: 50px;margin-top: 40px;margin-left: 20px;" src="https://rednose.b0.upaiyun.com/uploads/image/201709/03348a1181bd.png" onclick="get()">
			<p style="font-size: 48px;float: left;color: #49b55c;margin-left: 20px;">提交信息获取奖品</p>
		</div> 
	</div>
	<script>
		var oPointer=document.getElementsByTagName("img")[2];
		var oTurntable=document.getElementsByTagName("img")[3];
		var cat=30;
		var num=0;
		var offOn=true;
		document.title="";

		oPointer.onclick=function(){
			if(offOn){
				oTurntable.style.transform="rotate(0deg)";
				offOn=!offOn;
				ratating();
			}
		}
		function ratating(){
			var timer=null;
			var rdm=0;
			clearInterval(timer);
			timer=setInterval(function(){
				if(Math.floor(rdm/360)<3){
					rdm=Math.floor(Math.random()*3600); 
				}else{
					oTurntable.style.transform="rotate("+rdm+"deg)";
					clearInterval(timer);
					setTimeout(function(){
						offOn=!offOn;
						num=rdm%360;
						if(num<=cat*1){
							sessionStorage.setItem("lottery","200元语培课程代金券");
							$("#result").text("恭喜您！获得  200元语培课程代金券");
						}else if(num<=cat*2){
							sessionStorage.setItem("lottery","外教口语课免费试听卡");
							$("#result").text("恭喜您！获得  外教口语课免费试听卡");
						}else if(num<=cat*3){
							sessionStorage.setItem("lottery","新航道留学免费留学评估1次");
							$("#result").text("恭喜您！获得  新航道留学免费留学评估1次");
						}else if(num<=cat*4){
							sessionStorage.setItem("lottery","图书赠送");
							$("#result").text("恭喜您！获得  图书赠送");
						}else if(num<=cat*5){
							sessionStorage.setItem("lottery","200元语培课程代金券");
							$("#result").text("恭喜您！获得  200元语培课程代金券");
						}else if(num<=cat*6){
							sessionStorage.setItem("lottery","暴下饭辣酱");
							$("#result").text("恭喜您！获得  暴下饭辣酱");
						}else if(num<=cat*7){
							sessionStorage.setItem("lottery","200元语培课程代金券");
							$("#result").text("恭喜您！获得  200元语培课程代金券");
						}else if(num<=cat*8){
							sessionStorage.setItem("lottery","外教口语课免费试听卡");
							$("#result").text("恭喜您！获得  外教口语课免费试听卡");
						}else if(num<=cat*9){
							sessionStorage.setItem("lottery","新航道精美笔记本");
							$("#result").text("恭喜您！获得  新航道精美笔记本");
						}else if(num<=cat*10){
							sessionStorage.setItem("lottery","图书赠送");
							$("#result").text("恭喜您！获得  图书赠送");
						}else if(num<=cat*11){
						sessionStorage.setItem("lottery","200元语培课程代金券");
							$("#result").text("恭喜您！获得  200元语培课程代金券");
						}else if(num<=cat*12){
						sessionStorage.setItem("lottery","暴下饭辣酱");
							$("#result").text("恭喜您！获得  暴下饭辣酱");
						}
					},4000);
				}
			},30); 
		}
		function get(){  
			var value=$("#result").text();  
			if (''==value) {
				alert("你没有抽奖"); 
			} else {
				self.location='regist'; 
			}	   
		}
	</script>
</body>
</html>